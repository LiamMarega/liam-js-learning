---
import Gallery from "../components/gallery.astro";
import Layout from "../layout/homeLayout.astro";
import WindowModal from "../components/windows/WindowModal.astro";
import PaintContent from "./paint/index.astro";
---

<Layout title="Paint JS" fullScreen>
  <Gallery title="Paint JS" />

  <WindowModal
    title="Paint"
    isOpen={false}
    width="100%"
    height="100vh"
    path="/paint"
  >
    <PaintContent />
  </WindowModal>
</Layout>

<style>
  :global(.window[data-path="/paint"]) {
    top: 0 !important;
    left: 0 !important;
    transform: none !important;
    width: 100% !important;
    height: 100vh !important;
    border-radius: 0;
  }

  :global(.window[data-path="/paint"] .title-bar) {
    border-radius: 0;
  }

  @media (max-width: 768px) {
    :global(.window[data-path="/paint"] .window-content) {
      height: calc(100% - 27px) !important;
      overflow: hidden;
    }
  }
</style>

<script>
  // Manejar la apertura de la ventana cuando se hace clic en el icono de Paint
  document.addEventListener("DOMContentLoaded", () => {
    const paintIcon = document.querySelector('[data-path="/paint"]');
    const paintWindow = document.querySelector('.window[data-path="/paint"]');

    if (paintIcon && paintWindow) {
      paintIcon.addEventListener("dblclick", () => {
        paintWindow.setAttribute("data-state", "open");
      });
    }
  });
</script>
